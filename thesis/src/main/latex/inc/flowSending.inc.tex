\begin{tikzpicture}[x=0.75pt,y=0.75pt,yscale=-1,xscale=1]
%uncomment if require: \path (0,2217); %set diagram left start at 0, and has height of 2217

\tikzset{
	every picture/.style={line width=0.75pt},
 	topStyle/.style={draw opacity=0, fill=flowColor ,fill opacity=1},
 	boxStyle/.style={topStyle,general shadow={fill=nodeshadow,shadow xshift=\shadowshift,shadow yshift=\shadowshift}},	
 	astyle/.style={-{Latex[flowBorderColor,length=3.5mm,width=2.5mm]},semithick}
} %set default line width to 0.75pt        

% Separator T|B
\draw [color={rgb, 255:red, 97; green, 133; blue, 163 }  ,draw opacity=1 ]   (379.45,157.38) -- (379.45,1273) ;
%Straight Lines [id:da01189463841894356] 
\draw [color={rgb, 255:red, 97; green, 133; blue, 163 }  ,draw opacity=1 ]   (657.35,157.38) -- (657.35,1273) ;
%Straight Lines [id:da38188605400701503] 
\draw [color={rgb, 255:red, 97; green, 133; blue, 163 }  ,draw opacity=1 ]   (1051.12,157.38) -- (1051.12,1273) ;
%Straight Lines [id:da9445958810906161] 
\draw[color=flowBorderColor,semithick]   (1461.77,157.38) -- (1461.77,1273) ;
%Straight Lines [id:da7874924217880637] 
\draw[color=flowBorderColor,semithick]   (1461.77,1273) -- (83,1273) ;
%Shape: Rectangle [id:dp7065362201361831] 
\draw [topStyle] (83,28) -- (1461.77,28) -- (1461.77,91) -- (83,91) -- cycle ;
%Shape: Rectangle [id:dp9683370806565597] 
\draw [topStyle] (116.75,91) -- (379.45,91) -- (379.45,157.38) -- (116.75,157.38) -- cycle ;
%Shape: Rectangle [id:dp1717507479920246] 
\draw [topStyle] (379.45,91) -- (657.35,91) -- (657.35,157.38) -- (379.45,157.38) -- cycle ;
%Shape: Rectangle [id:dp30856027558947785] 
\draw [topStyle] (657.35,91) -- (1051.12,91) -- (1051.12,157.38) -- (657.35,157.38) -- cycle ;
%Shape: Rectangle [id:dp15023566490502294] 
\draw [topStyle] (1051.12,91) -- (1461.77,91) -- (1461.77,157.38) -- (1051.12,157.38) -- cycle ;
%Shape: Rectangle [id:dp033222571920972443] 
\draw [topStyle] (83,91) -- (116.75,91) -- (116.75,1273) -- (83,1273) -- cycle ;
%Straight Lines [id:da6157362850413854] 
\draw[color=flowBorderColor,semithick]   (1458.77,955) -- (113.75,955) ;
%Shape: Rectangle [id:dp5569537573383452] 
\draw [boxStyle] (1168.82,1152.84) .. controls (1168.82,1139.03) and (1180.01,1127.84) .. (1193.82,1127.84) -- (1308.08,1127.84) .. controls (1321.88,1127.84) and (1333.08,1139.03) .. (1333.08,1152.84) -- (1333.08,1168.49) .. controls (1333.08,1182.3) and (1321.88,1193.49) .. (1308.08,1193.49) -- (1193.82,1193.49) .. controls (1180.01,1193.49) and (1168.82,1182.3) .. (1168.82,1168.49) -- cycle ;
%Shape: Rectangle [id:dp14719051971015973] 
\draw [boxStyle] (1168.82,232.84) .. controls (1168.82,219.03) and (1180.01,207.84) .. (1193.82,207.84) -- (1308.08,207.84) .. controls (1321.88,207.84) and (1333.08,219.03) .. (1333.08,232.84) -- (1333.08,248.49) .. controls (1333.08,262.3) and (1321.88,273.49) .. (1308.08,273.49) -- (1193.82,273.49) .. controls (1180.01,273.49) and (1168.82,262.3) .. (1168.82,248.49) -- cycle ;
%Shape: Rectangle [id:dp46915977339930004] 
\draw [boxStyle] (1166.57,301.92) .. controls (1166.57,296.4) and (1171.04,291.92) .. (1176.57,291.92) -- (1325.33,291.92) .. controls (1330.85,291.92) and (1335.33,296.4) .. (1335.33,301.92) -- (1335.33,406) .. controls (1335.33,411.52) and (1330.85,416) .. (1325.33,416) -- (1176.57,416) .. controls (1171.04,416) and (1166.57,411.52) .. (1166.57,406) -- cycle ;
%Flowchart: Decision [id:dp7382483169840981] 
\draw [boxStyle] (1250.95,436.84) -- (1335.33,485.06) -- (1250.95,533.27) -- (1166.57,485.06) -- cycle ;
%Shape: Rectangle [id:dp15519727660393667] 
\draw [boxStyle] (1166.57,651.92) .. controls (1166.57,646.4) and (1171.04,641.92) .. (1176.57,641.92) -- (1325.33,641.92) .. controls (1330.85,641.92) and (1335.33,646.4) .. (1335.33,651.92) -- (1335.33,733) .. controls (1335.33,738.52) and (1330.85,743) .. (1325.33,743) -- (1176.57,743) .. controls (1171.04,743) and (1166.57,738.52) .. (1166.57,733) -- cycle ;
%Shape: Rectangle [id:dp1592818878870288] 
\draw [boxStyle] (767.57,520.92) .. controls (767.57,515.4) and (772.04,510.92) .. (777.57,510.92) -- (926.33,510.92) .. controls (931.85,510.92) and (936.33,515.4) .. (936.33,520.92) -- (936.33,602) .. controls (936.33,607.52) and (931.85,612) .. (926.33,612) -- (777.57,612) .. controls (772.04,612) and (767.57,607.52) .. (767.57,602) -- cycle ;
%Flowchart: Decision [id:dp7947615780656574] 
\draw [boxStyle] (1250.95,809.84) -- (1335.33,858.06) -- (1250.95,906.27) -- (1166.57,858.06) -- cycle ;
%Shape: Rectangle [id:dp3890269464121554] 
\draw [boxStyle] (767.57,817.52) .. controls (767.57,812) and (772.04,807.52) .. (777.57,807.52) -- (926.33,807.52) .. controls (931.85,807.52) and (936.33,812) .. (936.33,817.52) -- (936.33,898.6) .. controls (936.33,904.12) and (931.85,908.6) .. (926.33,908.6) -- (777.57,908.6) .. controls (772.04,908.6) and (767.57,904.12) .. (767.57,898.6) -- cycle ;
%Shape: Rectangle [id:dp876434410883997] 
\draw [boxStyle] (435.57,817.52) .. controls (435.57,812) and (440.04,807.52) .. (445.57,807.52) -- (594.33,807.52) .. controls (599.85,807.52) and (604.33,812) .. (604.33,817.52) -- (604.33,899) .. controls (604.33,904.52) and (599.85,909) .. (594.33,909) -- (445.57,909) .. controls (440.04,909) and (435.57,904.52) .. (435.57,899) -- cycle ;
%Shape: Rectangle [id:dp6154975811074208] 
\draw [boxStyle] (169.57,997.52) .. controls (169.57,992) and (174.04,987.52) .. (179.57,987.52) -- (328.33,987.52) .. controls (333.85,987.52) and (338.33,992) .. (338.33,997.52) -- (338.33,1078.6) .. controls (338.33,1084.12) and (333.85,1088.6) .. (328.33,1088.6) -- (179.57,1088.6) .. controls (174.04,1088.6) and (169.57,1084.12) .. (169.57,1078.6) -- cycle ;
%Straight Lines [id:da6766910333460496] 
\draw[astyle]   (1250.95,273.49) -- (1250.95,288.92) ;

%Straight Lines [id:da07946741177938588] 
\draw[astyle]   (1250.95,416) -- (1250.95,433.84) ;

%Straight Lines [id:da7522898620963117] 
\draw[astyle]   (1166.57,485.06) -- (851.95,485.06) -- (851.95,508) ;

%Straight Lines [id:da8600119572090721] 
\draw[astyle]   (1335.33,485.06) -- (1380.5,485.06) -- (1380.5,987) -- (1255.5,987) ;

%Straight Lines [id:da3559626917854306] 
\draw[astyle]   (851.95,612) -- (851.95,623) -- (1252,623) -- (1252,639) ;

%Straight Lines [id:da48165386823453726] 
\draw[astyle]   (1250.95,743) -- (1250.95,806.84) ;

%Straight Lines [id:da19989198852083612] 
\draw[astyle]   (1166.57,858.06) -- (939.33,858.06) ;

%Straight Lines [id:da8074058873541075] 
\draw[astyle]   (767.57,858.06) -- (607.33,858.06) ;

%Straight Lines [id:da15478959071436282] 
\draw[astyle]   (519.95,909) -- (519.95,937) -- (253.95,937) -- (253.95,984) ;

%Straight Lines [id:da7396642171806611] 
\draw[astyle]   (1250.95,906.27) -- (1250.95,1124) ;

%Straight Lines [id:da3133485263154654] 
\draw[astyle]   (253.95,1088.6) -- (253.95,1102) -- (1247.5,1102) ;


% Text Node
\draw (1250.95,1160.66) node  [font=\large] [align=left] {\textcolor{white}{End of processing}};
% Text Node
\draw (99.31,762.47) node  [font=\LARGE,rotate=-270] [align=left] {\textcolor{white}{Processing}};
% Text Node
\draw (248.1,124.19) node  [font=\huge] [align=left] {\begin{minipage}[lt]{92.29912000000002pt}\setlength\topsep{0pt}
	\begin{center}
	\textcolor{white}{Transport}
	\end{center}
	
	\end{minipage}};
% Text Node
\draw (518.4,124.19) node  [font=\huge] [align=left] {\begin{minipage}[lt]{84.90412pt}\setlength\topsep{0pt}
	\begin{center}
	\textcolor{white}{Blending}
	\end{center}
	
	\end{minipage}};
% Text Node
\draw (854.23,124.19) node  [font=\huge] [align=left] {\begin{minipage}[lt]{75.50108000000002pt}\setlength\topsep{0pt}
	\begin{center}
	\textcolor{white}{Routing}
	\end{center}

	\end{minipage}};
% Text Node
\draw (1256.44,124.19) node  [font=\huge] [align=left] {\begin{minipage}[lt]{107.19588pt}\setlength\topsep{0pt}
	\begin{center}
	\textcolor{white}{Accounting}
	\end{center}
	
	\end{minipage}};
% Text Node
\draw (320.98,59.5) node  [font=\Huge] [align=left] {\begin{minipage}[lt]{427.5391200000001pt}\setlength\topsep{0pt}
	\begin{center}
	\textcolor{white}{Sending a VortexMessage}
	\end{center}
	
	\end{minipage}};
% Text Node
\draw (1250.95,240.66) node  [font=\large] [align=left] {\begin{minipage}[lt]{117.69304000000001pt}\setlength\topsep{0pt}
	\begin{center}
	\textcolor{white}{Time based trigger  of routing block}
	\end{center}
	
	\end{minipage}};
% Text Node
\draw (1355.15,473.02) node  [font=\large] [align=left] {\textcolor{black}{\textbf{No}}};
% Text Node
\draw (1150.04,473.4) node  [font=\large] [align=left] {\textcolor{black}{\textbf{Yes}}};
% Text Node
\draw (1271.04,922.4) node  [font=\large] [align=left] {\textcolor{black}{\textbf{Yes}}};
% Text Node
\draw (1130.15,847.02) node  [font=\large] [align=left] {\textcolor{black}{\textbf{No}}};
% Text Node
\draw (1250.95,353.96) node  [font=\normalsize] [align=left] {\begin{minipage}[lt]{100.27892pt}\setlength\topsep{0pt}
	\begin{center}
	\textcolor{white}{Process all root instructions of the routing block and the dependendencies}
	\end{center}
	
	\end{minipage}};
% Text Node
\draw (1250.95,485.06) node  [font=\normalsize] [align=left] {\begin{minipage}[lt]{88.34696000000001pt}\setlength\topsep{0pt}
	\begin{center}
	\textcolor{white}{Did build of any segment succeed?}
	\end{center}
	
	\end{minipage}};
% Text Node
\draw (1250.95,692.46) node  [font=\large] [align=left] {\begin{minipage}[lt]{106.82392pt}\setlength\topsep{0pt}
	\begin{center}
	\textcolor{white}{Calculate message size and verify quota}
	\end{center}
	
	\end{minipage}};
% Text Node
\draw (1250.95,858.06) node  [font=\large] [align=left] {\begin{minipage}[lt]{62.61310800000001pt}\setlength\topsep{0pt}
	\begin{center}
	\textcolor{white}{Is quota exceeded?}
	\end{center}
	
	\end{minipage}};
% Text Node
\draw (851.95,858.06) node  [font=\large] [align=left] {\begin{minipage}[lt]{100.03412000000002pt}\setlength\topsep{0pt}
	\begin{center}
	\textcolor{white}{Attach blending  instructions}
	\end{center}
	
	\end{minipage}};
% Text Node
\draw (519.95,858.26) node  [font=\large] [align=left] {\begin{minipage}[lt]{96.62392pt}\setlength\topsep{0pt}
	\begin{center}
	\textcolor{white}{Process blending}
	\end{center}
	
	\end{minipage}};
% Text Node
\draw (253.95,1038.06) node  [font=\large] [align=left] {\begin{minipage}[lt]{97.98392pt}\setlength\topsep{0pt}
	\begin{center}
	\textcolor{white}{Send message to peer}
	\end{center}
	
	\end{minipage}};
% Text Node
\draw (99.31,1211.47) node  [font=\LARGE,rotate=-270] [align=left] {\textcolor{white}{Sending}};
% Text Node
\draw (851.95,561.46) node  [font=\large] [align=left] {\begin{minipage}[lt]{120.64696pt}\setlength\topsep{0pt}
	\begin{center}
	\textcolor{white}{Assemble VortexMessage}
	\end{center}
	
	\end{minipage}};


\end{tikzpicture}
